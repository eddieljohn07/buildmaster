<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buildmaster</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Encode+Sans+Expanded:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<style>
    body {
        background: url(images/bg.webp);
        background-size: cover;
        margin: 0;
        overflow: hidden;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .container {
        position: relative;
        width: 80%;
        height: 80%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    .square {
        width: 5em;
        height: 5em;
        box-sizing: border-box;
        margin: 1em;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 0;
    }
    .square img {
        height: 100%;
    }
    #circle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1;
    }
    #circle img {
        width: 100%;
        border-radius: 50%;
    }
    #message-box {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 20px;
        text-align: center;
        z-index: 2;
        font-size: 1em;
    }
    #button-container {
        position: absolute;
        bottom: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .down-but {
        display: flex;
    }
    .button {
        width: 2em;
        height: 2em;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        color: white;
        border-radius: 10px;
        margin: 5px;
        cursor: pointer;
    }
    .button:hover {
        background-color: darkgray;
    }
    .squares-container {
        height: 100vh;
        margin: 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }
    .data-img {
        max-height: 30em;
        max-width: 90%;
    }
</style>
<body>
    <div class="container">
        <div id="circle">
            <img src="images/sprite.gif">
        </div>
        <div class="squares-container" id="squares-container-top">
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1601541984851-6779505c272c?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br> CPU: The central processing unit (CPU) is the brain of the computer, responsible for executing instructions and performing calculations. It determines the system's overall performance and efficiency.">
                <img src="images/cpu.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1660855551570-dd44e0ab800c?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br> Case: The computer case houses all the internal components, providing protection and organization while also offering ports and slots for connectivity. It also influences the airflow and cooling of the system.">
                <img src="images/case.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1531492746076-161ca9bcad58?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br>  HDD: The hard disk drive (HDD) stores data magnetically on spinning disks, offering high capacity at a lower cost per gigabyte compared to other storage options. It's commonly used for bulk storage of files and applications.">
                <img src="images/hdd.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1699796990063-ee34d2eef5e2?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br> RAM: Random access memory (RAM) temporarily stores data that the CPU needs to access quickly, allowing for faster execution of tasks and multitasking capability. More RAM can significantly improve system responsiveness.">
                <img src="images/ram.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1674660529961-fd2fd2f3e025?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTh8fHNzZHxlbnwwfHwwfHx8Mg%3D%3D'> <br> SSD: The solid-state drive (SSD) uses flash memory to store data, offering faster read and write speeds and greater reliability compared to traditional HDDs. SSDs are essential for quick boot times and fast data access.">
                <img src="images/ssd.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1716062890647-60feae0609d0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8UFNVfGVufDB8fDB8fHwy'> <br> PSU: The power supply unit (PSU) converts electrical power from the outlet into usable power for the computer's components, ensuring stable and reliable operation. A high-quality PSU can protect against power surges and fluctuations.">
                <img src="images/psu.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1591489378430-ef2f4c626b35?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGdwdXxlbnwwfHwwfHx8Mg%3D%3D'> <br> GPU: The graphics processing unit (GPU) handles graphics rendering and acceleration, vital for gaming, multimedia, and other graphic-intensive tasks. Advanced GPUs are also used for scientific computing and AI tasks.">
                <img src="images/gpu.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1712701815718-29f5fe510c0e?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br> Motherboard: The motherboard connects and allows communication between all the computer's components, serving as the foundation for the system. It includes slots and ports for expanding the system's capabilities.">
                <img src="images/motherboard.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1587202372775-e229f172b9d7?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br> Case fan: Case fans help to maintain optimal temperatures inside the computer case by circulating air and dissipating heat generated by the components. Effective cooling can extend the lifespan of hardware components.">
                <img src="images/case_fan.webp">
            </div>
            <div class="square" data-message="<img class='data-img' src='https://images.unsplash.com/photo-1601118447646-85593309ac5a?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'> <br> CPU cooler: The CPU cooler dissipates heat generated by the CPU, preventing overheating and ensuring stable performance. Efficient cooling solutions can improve CPU performance by allowing it to run at higher speeds.">
                <img src="images/cpu_fan.webp">
            </div>
        </div>
    </div>
    <div id="message-box"></div>
    <div id="button-container">
        <div class="up-but">
            <div class="button" id="up">&#9650;</div>
        </div>
        <div class="down-but">
            <div class="button" id="left">&#9664;</div>
            <div class="button" id="down">&#9660;</div>
            <div class="button" id="right">&#9654;</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const circle = document.getElementById('circle');
            const messageBox = document.getElementById('message-box');
            const buttons = document.querySelectorAll('.button');
            const squares = document.querySelectorAll('.square');
            let squaresTouched = 0;
            let moveInterval = null;
            let speed = 8;
            let congratulatoryTimeout = null;
            let gameCompleted = false;

            function doRectanglesIntersect(rect1, rect2) {
                return !(rect1.right < rect2.left ||
                    rect1.left > rect2.right ||
                    rect1.bottom < rect2.top ||
                    rect1.top > rect2.bottom);
            }

            buttons.forEach(button => {
                button.addEventListener('mousedown', () => {
                    if (gameCompleted) return;
                    startMoving(button.id);
                });
                button.addEventListener('touchstart', () => {
                    if (gameCompleted) return;
                    startMoving(button.id);
                });
                button.addEventListener('mouseup', stopMoving);
                button.addEventListener('mouseleave', stopMoving);
                button.addEventListener('touchend', stopMoving);
                button.addEventListener('touchcancel', stopMoving);
            });

            document.addEventListener('keydown', (event) => {
                if (gameCompleted) return;
                const key = event.key;
                const direction = getDirectionFromKey(key);
                if (direction) startMoving(direction);
            });

            document.addEventListener('keyup', (event) => {
                const key = event.key;
                const direction = getDirectionFromKey(key);
                if (direction) stopMoving();
            });

            function getDirectionFromKey(key) {
                switch (key) {
                    case 'ArrowUp':
                    case 'w':
                        return 'up';
                    case 'ArrowDown':
                    case 's':
                        return 'down';
                    case 'ArrowLeft':
                    case 'a':
                        return 'left';
                    case 'ArrowRight':
                    case 'd':
                        return 'right';
                    default:
                        return null;
                }
            }

            function startMoving(direction) {
                if (moveInterval) clearInterval(moveInterval);
                moveCircle(direction);
                moveInterval = setInterval(() => {
                    moveCircle(direction);
                }, 50);
            }

            function stopMoving() {
                if (moveInterval) clearInterval(moveInterval);
            }

            function moveCircle(direction) {
                if (gameCompleted) return;

                const currentPosition = {
                    x: circle.offsetLeft,
                    y: circle.offsetTop
                };

                switch (direction) {
                    case 'up':
                        circle.style.top = `${Math.max(0, currentPosition.y - speed)}px`;
                        break;
                    case 'down':
                        circle.style.top = `${Math.min(window.innerHeight - circle.offsetHeight, currentPosition.y + speed)}px`;
                        break;
                    case 'left':
                        circle.style.left = `${Math.max(0, currentPosition.x - speed)}px`;
                        break;
                    case 'right':
                        circle.style.left = `${Math.min(window.innerWidth - circle.offsetWidth, currentPosition.x + speed)}px`;
                        break;
                    default:
                        break;
                }

                checkCollision();
            }

            function checkCollision() {
                const circleRect = circle.getBoundingClientRect();
                let messageDisplayed = false;

                squares.forEach(square => {
                    const squareRect = square.getBoundingClientRect();

                    if (doRectanglesIntersect(circleRect, squareRect)) {
                        if (!square.classList.contains('touched')) {
                            square.classList.add('touched');
                            squaresTouched++;
                        }
                        const message = square.getAttribute('data-message');
                        messageBox.innerHTML = message; 
                        messageBox.style.display = 'block';
                        messageBox.style.width = '70%';

                        messageDisplayed = true;
                    }
                });

                if (!messageDisplayed) {
                    messageBox.style.display = 'none';
                }

                if (squaresTouched === squares.length && !congratulatoryTimeout) {
                    congratulatoryTimeout = setTimeout(showCongratulatoryMessage, 12000);
                }
            }

            function showCongratulatoryMessage() {
                gameCompleted = true;
                messageBox.innerHTML = 'Congratulations on familiarizing yourself with all the essential components of a computer system! Your dedication to learning about the CPU, motherboard, RAM, SSD, HDD, GPU, PSU, fans, and case demonstrates your commitment to understanding the fundamental building blocks of modern technology. Keep up the fantastic work, and continue exploring the vast world of computer hardware and technology!<br>';
                const continueButton = document.createElement('button');
                continueButton.innerText = 'Continue';
                continueButton.addEventListener('click', () => {
                    window.location.href = 'explore-quiz.html';
                });
                const refreshButton = document.createElement('button');
                refreshButton.innerText = 'Relearn';
                refreshButton.addEventListener('click', () => {
                    window.location.reload();
                });
                messageBox.appendChild(continueButton);
                messageBox.appendChild(refreshButton);
                messageBox.style.display = 'block';
            }
        });
    </script>
</body>
</html>
